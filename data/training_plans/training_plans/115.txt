Hash Join  (cost=219929.46..326556.28 rows=429029 width=146) (actual time=2436.707..5787.994 rows=10819315 loops=1)
  Hash Cond: (mc.movie_id = t.id)
  ->  Seq Scan on movie_companies mc  (cost=0.00..44881.29 rows=2609129 width=40) (actual time=0.020..236.060 rows=2609129 loops=1)
  ->  Hash  (cost=207829.26..207829.26 rows=415776 width=106) (actual time=2315.424..2315.424 rows=1112861 loops=1)
        Buckets: 32768 (originally 32768)  Batches: 64 (originally 16)  Memory Usage: 3841kB
        ->  Hash Join  (cost=89882.99..207829.26 rows=415776 width=106) (actual time=599.437..1960.374 rows=1112861 loops=1)
              Hash Cond: (mk.movie_id = t.id)
              ->  Seq Scan on movie_keyword mk  (cost=0.00..81003.12 rows=1788634 width=12) (actual time=0.017..580.156 rows=1800457 loops=1)
                    Filter: (keyword_id < 2909)
                    Rows Removed by Filter: 2723473
              ->  Hash  (cost=73925.90..73925.90 rows=587767 width=94) (actual time=598.263..598.263 rows=594730 loops=1)
                    Buckets: 32768  Batches: 32  Memory Usage: 2285kB
                    ->  Seq Scan on title t  (cost=0.00..73925.90 rows=587767 width=94) (actual time=139.377..479.255 rows=594730 loops=1)
                          Filter: ((production_year < 2012) AND (kind_id = 1))
                          Rows Removed by Filter: 1933582
Planning time: 0.859 ms
Execution time: 6119.755 ms
