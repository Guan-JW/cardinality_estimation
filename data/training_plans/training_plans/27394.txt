Hash Join  (cost=148839.91..273868.62 rows=248367 width=0) (actual time=3000.771..6517.634 rows=4241927 loops=1)
  Hash Cond: (mk.movie_id = t.id)
  ->  Seq Scan on movie_keyword mk  (cost=0.00..69693.30 rows=4523930 width=4) (actual time=0.011..1407.257 rows=4523930 loops=1)
  ->  Hash  (cost=146561.68..146561.68 rows=138818 width=8) (actual time=2659.979..2659.979 rows=190263 loops=1)
        Buckets: 131072 (originally 131072)  Batches: 4 (originally 2)  Memory Usage: 3073kB
        ->  Hash Join  (cost=78556.72..146561.68 rows=138818 width=8) (actual time=1621.793..2590.229 rows=190263 loops=1)
              Hash Cond: (mc.movie_id = t.id)
              ->  Seq Scan on movie_companies mc  (cost=0.00..57926.93 rows=525825 width=4) (actual time=267.261..933.800 rows=238869 loops=1)
                    Filter: ((company_id > 14307) AND (company_type_id < 2))
                    Rows Removed by Filter: 2370260
              ->  Hash  (cost=67604.59..67604.59 rows=667531 width=4) (actual time=1353.489..1353.489 rows=662825 loops=1)
                    Buckets: 131072  Batches: 16  Memory Usage: 2476kB
                    ->  Seq Scan on title t  (cost=0.00..67604.59 rows=667531 width=4) (actual time=38.038..1149.147 rows=662825 loops=1)
                          Filter: (kind_id = 1)
                          Rows Removed by Filter: 1865487
Planning time: 0.770 ms
Execution time: 6947.293 ms
