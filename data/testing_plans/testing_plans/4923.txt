Hash Join  (cost=209946.91..348285.80 rows=358586 width=146)
  Hash Cond: (mk.movie_id = t.id)
  ->  Seq Scan on movie_keyword mk  (cost=0.00..69693.30 rows=4523930 width=12) (actual time=0.024..419.417 rows=4523930 loops=1)
  ->  Hash  (cost=203526.63..203526.63 rows=200422 width=134) (actual time=1507.174..1507.174 rows=87050 loops=1)
        Buckets: 32768  Batches: 16  Memory Usage: 1047kB
        ->  Hash Join  (cost=112892.51..203526.63 rows=200422 width=134) (actual time=842.041..1474.802 rows=87050 loops=1)
              Hash Cond: (mc.movie_id = t.id)
              ->  Seq Scan on movie_companies mc  (cost=0.00..57926.93 rows=303793 width=40) (actual time=0.025..354.988 rows=165296 loops=1)
                    Filter: ((company_id < 686) AND (company_type_id > 1))
                    Rows Removed by Filter: 2443833
              ->  Hash  (cost=67604.59..67604.59 rows=1668154 width=94) (actual time=841.698..841.698 rows=1674098 loops=1)
                    Buckets: 32768  Batches: 64  Memory Usage: 3250kB
                    ->  Seq Scan on title t  (cost=0.00..67604.59 rows=1668154 width=94) (actual time=0.014..469.558 rows=1674098 loops=1)
                          Filter: (kind_id > 3)
                          Rows Removed by Filter: 854214
Planning time: 1.096 ms
Execution time: 2959.750 ms
